{% extends "base.html" %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–µ–≥–æ –±–æ—Ç–∞</h2>
    
    <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ -->
    <div class="alert alert-info mb-4">
        <h5><i class="fas fa-info-circle me-2"></i>–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞:</h5>
        <ol class="mb-0">
            <li>–ù–∞–ø–∏—à–∏—Ç–µ <a href="https://t.me/BotFather" target="_blank">@BotFather</a> –≤ Telegram</li>
            <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É <code>/newbot</code></li>
            <li>–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω</li>
            <li>–í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–æ–ª–µ –Ω–∏–∂–µ</li>
        </ol>
    </div>
    
    {% if settings %}
    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>üîë –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="mb-3">
                            <label for="bot_token" class="form-label">–¢–æ–∫–µ–Ω –±–æ—Ç–∞ (Bot Token):</label>
                            <input type="password" class="form-control" id="bot_token" name="bot_token" 
                                   value="{{ settings.bot_token or '' }}" 
                                   placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz">
                            <div class="form-text">
                                <i class="fas fa-shield-alt me-1"></i>
                                –¢–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="bot_username" class="form-label">Username –±–æ—Ç–∞:</label>
                            <input type="text" class="form-control" id="bot_username" name="bot_username" 
                                   value="{{ settings.bot_username or '' }}" 
                                   placeholder="my_awesome_bot">
                            <div class="form-text">
                                –ë–µ–∑ —Å–∏–º–≤–æ–ª–∞ @ (–Ω–∞–ø—Ä–∏–º–µ—Ä: my_awesome_bot)
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>üìä –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞</h5>
                </div>
                <div class="card-body">
                    {% if settings.bot_token %}
                        <div class="alert alert-success">
                            <i class="fas fa-check-circle me-2"></i>
                            <strong>–ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω!</strong><br>
                            <small>Username: @{{ settings.bot_username or '–ù–µ —É–∫–∞–∑–∞–Ω' }}</small>
                        </div>
                        <a href="https://t.me/{{ settings.bot_username }}" target="_blank" class="btn btn-outline-success btn-sm">
                            <i class="fas fa-external-link-alt me-2"></i>–û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞
                        </a>
                    {% else %}
                        <div class="alert alert-warning">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>–ë–æ—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</strong><br>
                            <small>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</small>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>üìù –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="mb-3">
                            <label for="welcome_message" class="form-label">–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è:</label>
                            <textarea class="form-control" id="welcome_message" name="welcome_message" rows="3" required>{{ settings.welcome_message }}</textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>üìÑ –§–∞–π–ª –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è</h5>
                </div>
                <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label for="welcome_pdf" class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å PDF/–≤–∏–¥–µ–æ —Ñ–∞–π–ª:</label>
                            <input type="file" class="form-control" id="welcome_pdf" name="welcome_pdf" accept=".pdf,.mp4,.avi,.mov,.mkv">
                            <div class="form-text">
                                <strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä:</strong> {{ max_file_size }}<br>
                                <strong>–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</strong> {{ allowed_extensions }}
                            </div>
                        </div>
                        
                        {% if settings.welcome_pdf_path %}
                        <div class="mb-3">
                            <label class="form-label">–¢–µ–∫—É—â–∏–π —Ñ–∞–π–ª:</label>
                            <div class="alert alert-info">
                                <strong>–§–∞–π–ª:</strong> {{ settings.welcome_pdf_path.split('/')[-1] }}<br>
                                <small>–ó–∞–≥—Ä—É–∂–µ–Ω: {{ settings.updated_at }}</small>
                            </div>
                        </div>
                        {% endif %}
                        
                        <button type="submit" class="btn btn-success">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <div class="mb-3">
                            <label for="bot_name" class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞:</label>
                            <input type="text" class="form-control" id="bot_name" name="bot_name" value="{{ settings.bot_name or '–ú–æ–π –±–æ—Ç' }}" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞">
                        </div>
                        <div class="mb-3">
                            <label for="bot_description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞:</label>
                            <textarea class="form-control" id="bot_description" name="bot_description" rows="2" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞">{{ settings.bot_description or '' }}</textarea>
                        </div>
                        <div class="mb-3">
                            <label for="start_command" class="form-label">–ö–æ–º–∞–Ω–¥–∞ /start:</label>
                            <textarea class="form-control" id="start_command" name="start_command" rows="2" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–º–∞–Ω–¥–µ /start">{{ settings.start_command or '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ù–∞–∂–º–∏—Ç–µ /help –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.' }}</textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞</button>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö</h5>
                </div>
                <div class="card-body">
                    <p><strong>–°–æ–∑–¥–∞–Ω–æ:</strong> {{ settings.created_at }}</p>
                    <p><strong>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</strong> {{ settings.updated_at }}</p>
                    <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span class="badge bg-success">–ê–∫—Ç–∏–≤–Ω–æ</span></p>
                    <hr>
                    <p><strong>–í–∞–∂–Ω–æ:</strong> –≠—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –≤–∞—à–µ–º—É –±–æ—Ç—É –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º—ã.</p>
                </div>
            </div>
        </div>
    </div>
    
    {% else %}
    <div class="alert alert-warning">
        <h5>‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h5>
        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤–∞—à–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
